# IPv6


## 概要
* アドレスの種類
    * ユニキャストアドレス
        * 単一インタフェースの識別子
        * ユニキャストアドレス宛のパケットは、そのアドレスをもつインタフェースに配送される
    * エニーキャストアドレス
        * インタフェースの集合の識別子で、複数の機器に付与される
        * エニーキャストアドレス宛のパケットは、そのアドレスを持つ「一番近くにある」機器のインタフェースに配送される
        * エニーキャストアドレスは、ユニキャストアドレス空間から割り当てられるので、表記上、エニーキャストアドレスとユニキャストアドレスの区別はつかない
    * マルチキャストアドレス
        * インタフェースの集合の識別子で、複数の機器に付与される
        * マルチキャストアドレス宛のパケットは、そのアドレスをもつすべてのインタフェースに配送される
        * IPv6には、IPv4にあったブロードキャストアドレスが存在せず、マルチキャストアドレスが同様の役割を果たす
* アドレスの型
    * IPv6では、上位ビットにより、未指定アドレス、ループバックアドレス、マルチキャストアドレス、リンクローカルユニキャストアドレス、グローバルユニキャストアドレスに分類される
* アドレスの表記法
    * IPv4アドレスは、32ビットを8ビットずつ4つに"." (ピリオド)で区切った数値列を、"192.168.0.1" のように10進数で記述している
    * IPv6アドレスは、128ビットを16ビットずつ8つに":" (コロン)で区切った数値列を、16進数で表記する
        * 例 ABCD:EF01:2345:6789:ABCD:EF01:2345:6789
    * また、連続する0は省略が可能で、"::"は、16ビットの0が複数連続していることを示す
        * FF01:0:0:0:0:0:0:101 (マルチキャストアドレス)
            * 省略型) FF01::101
        * 2001:DB8:0:0:8:800:200C:417A (ユニキャストアドレス)
            * 省略型) 2001:DB8::8:800:200C:417A
        * 0:0:0:0:0:0:0:1 (ループバックアドレス)
            * 省略型) ::1
        * 0:0:0:0:0:0:0:0 (未指定アドレス)
            * 省略型) ::


## リンクローカルアドレス
    * 同一リンク上でのみ有効なアドレスとして、リンクローカルアドレスが定義されている
    * ノードは、少なくとも１つのリンクローカルアドレスを持つことが規定されているため、ノードをネットワークに接続するだけで、設定なしで同一リンク上の他のノードと通信が可能になる
    * 応用
        * BGP UNNUMBERED、OSPF UNNUMBERED
            * BGPはTCPで、OSPFはOSPFでIPによって接続し、経路交換をする
            * このとき、IPv4では、自身のIPの設定が必要なのだが、IPv6ではリンクローカルアドレスが自動で振られているので、設定不要で他のノードと経路交換が可能になる
