# Security

## 用語

- Exploit
  - PC やスマートフォンの OS・ソフトウェアなどの脆弱性を悪用して攻撃を行うプログラム
- バッファオーバーフロー
  - 特定のデータ構造の限界の外に書き込みを行ったとき、不適切な位置にデータを書き込み不正なコードを実行する
  - メモリ管理がプログラマに任される C のコードでよく発見される

## 攻撃経路

- リモートからの攻撃
  - リモートユーザは最初にネットワークプログラムの脆弱性によって、そのプログラムの権限でコードを実行する
    - また、必要に応じてより高い権限へ昇格してコードを実行する
  - 対策
    - 外部からアクセス可能なポートを制限する
    - nginx や haproxy などのプロキシコンテナを前段においてネットワークプログラムを直接見せないようにする
      - 攻撃者は、プロキシコンテナの脆弱性を突いたうえで、さらに奥のネットワークプログラムの脆弱性を突かなければならくなるため難易度が上がる
    - ネットワークプログラムの権限を必要最低限に絞っておく
      - 成功したエクスプロイトによる影響を抑えることができる
      - また、root で起動して必要なパスワードなどの情報をメモリに保存した後、setuid を使って権限を降格する場合もある
- 仮想マシン上からの攻撃
  - 仮想マシンは、ハイパーバイザ上で動作するため、ハイパーバイザプログラムや、CPU の脆弱性をつくことでハイパーバイザや、同居している仮想マシンへの攻撃が可能
