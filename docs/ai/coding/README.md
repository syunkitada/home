# AI Coding

## AI コーディング手法の分類

- リアクティブ・インライン補完（Reactive Inline Completion）
  - GitHub Copilot に代表される、既存の統合開発環境（IDE）や Vim にプラグインとして統合されるリアルタイムのコード補完。
  - この手法は「リアクティブ（反応型）」と呼ばれ、開発者がコードを記述する際、直前の文脈やコメント、関数名から次の数行、あるいは関数全体を予測して提案する。
  - このアプローチの最大の特徴は、既存の開発ワークフローへの介入を最小限に抑えつつ、定型的なコード（ボイラープレート）の記述時間を大幅に短縮できる点にある。
  - しかし、その文脈理解はアクティブなバッファ周辺に限定されることが多く、プロジェクト全体のアーキテクチャや離れたファイル間の依存関係を考慮した提案には限界がある。
- AI ネイティブ IDE およびコンテキスト・アウェア・アシスタンス（AI-Native IDEs）
  - Cursor や Windsurf（旧 Cognition 製品）に代表される AI ネイティブ IDE は、エディタそのものが AI との協調を前提に再構築されている。
  - これらのツールは、プロジェクト全体のファイルをインデックス化し、RAG（検索拡張生成）やセマンティック検索を用いることで、広範な「プロジェクト・アウェア（プロジェクト認識型）」な支援を可能にする。
  - 開発者はチャットインターフェースや特定のショートカット（例：Cursor の Cmd+K）を通じて、複数のファイルにまたがるコードの修正やリファクタリングを指示できる。
- AI 駆動開発（自律型 AI エージェントによる実装）
  - Claude Code、Devin、Gemini CLI、Copilot Agent、Codex CLI といった、自律型 AI エージェントに実装自体を任せる。
  - これらの AI エージェントは、自然言語で与えられた高レベルなタスク目標（例：「既存の認証モジュールをリファクタリングせよ」「新しい機能のテストケースを作成しデバッグせよ」）を理解し、自律的に計画、実行、検証を行う。

## 歴史

- 2022 年
  - GitHub Copilot リリース
    - GitHub Copilot は、OpenAI の Codex を利用してコード補完や提案を行うツールです。
- 2023 年
  - Cursor リリース
    - Cursor は、VS Code をフォークして開発された AI 支援機能を搭載したコードエディタです。
- 2025 年
  - 2 月
    - ClaudeCode が Anthropic によってリリースされました。
      - https://github.com/anthropics/claude-code
      - Claude Code は、AI エージェントを利用してプログラミング支援を行うツールです。
    - Vibe Coding が Andrej Karpathy によって提唱されました。
      - 開発者がコードの実装詳細を完全に AI に委ね、自然言語による対話とフィードバックのループのみでアプリケーションを構築する極めて直感的な手法である。
      - これは「雰囲気が良ければ（Vibe）良しとする」という、ある種のプラグマティズムに基づいたアプローチであり、特にプロトタイプの高速構築やフロントエンドの美的調整において圧倒的なスピードを実現している。
      - ヴァイブ・コーディングの普及は、非技術者がアイディアを即座に形にできる「コーディングの民主化」を加速させている。
      - しかし、生成されたコードの内部構造を人間が完全に把握していないため、メンテナンス性やセキュリティ、技術的負債の蓄積といった観点からは強い批判も受けている。
  - 4 月
    - Devine、Codex CLI Preview などの AI エージェントがリリースされました。
    - BMAD-METHOD といったマルチエージェントによる開発が行われるようになりました。
      - https://github.com/bmad-code-org/BMAD-METHOD
      - 各エージェントに、PM、開発者、デザイナー、テスターなど役割を持たせてチームとして共同開発させるやり方です。
  - 5 月: Microsoft/GitHub が、GitHub Copilot Agent をリリース
    - GitHub Copilot Agent は、GitHub Copilot の AI エージェント版で、より高度なプログラミング支援を行います。
  - 6 月
    - コンテキストエンジニアリングが ClaudeCode によって提唱されました。
      - LLM が一度に処理できる情報量（トークン数）には上限がある（Context Window）
      - 情報量が多い場合、LLM はコンテキストの 冒頭と末尾の情報を重視し、中間の情報を忘れやすい 傾向があります。
      - AI エージェントが「知るべき」広大なコンテキスト（ツール情報、プロジェクト知識など）を、体系的に最適化するのが Context Engineering です。
      - 最終的に最適されたコンテキストは一つのプロンプトに統合されて、LLM に伝えられるので、ある意味でプロンプトエンジニアリング（プロンプトの最適化）に近いかもしれません。
      - プロジェクトディレクトリに AGENTS.md といった決まったファイルを配置しておくと、エージェントはこれを自動で読み取りプロンプトに統合してくれます。
    - Google が Gemini CLI をリリース
      - https://github.com/google-gemini/gemini-cli
      - Gemini CLI は、ターミナルから直接 Gemini モデルを利用できるオープンソースの AI エージェントです。
    - Claude Code のサブスクも始まり、また AI 駆動開発のナレッジも公開されてきて Vibe Coding が流行り始めた時期だと思います。
  - 7 月
    - 生産性のパラドックス
      - 2025 年 7 月にモデル評価・脅威研究（METR）が発表したランダム化比較試験（RCT）の結果は、業界に衝撃を与えた。
      - この研究では、平均 5 年の経験を持つ 16 名の熟練オープンソース開発者が、自身の慣れ親しんだリポジトリで AI ツール（主に Cursor Pro と Claude 3.5/3.7）を使用して 246 のタスクを遂行した。
      - 研究結果によれば、AI ツールを使用した開発者は、使用しなかった開発者と比較して、タスク完了までに平均で 19%長い時間 を要したことが明らかになった。
      - しかし、開発者自身の主観評価では「20%速くなった」と感じており、客観的なパフォーマンスと主観的な「ヴァイブ（感触）」の間に 39 ポイントもの巨大な認識の乖離が存在していた。
      - この「生産性のパラドックス」の背景には、以下の要因が指摘されている。
        - レビュー・タックス（Review Tax）: AI が生成したコードの微妙なバグや、プロジェクト独自の暗黙的なルールに反する部分を特定・修正する時間に、想定以上のコストがかかっている。
        - 既存知識の優位性: 熟練開発者は自身のコードベースを深く理解しているため、AI がコンテキストを把握して回答を生成するのを待つよりも、自ら記述する方が速いケースが多い。
        - 過剰な楽観主義: 開発者は AI が解決できると過信し、自力で書けば数分で済む単純なタスクに対し、複雑なプロンプトの調整に時間を浪費してしまう傾向がある。
      - 一方で、特定の AI ツールの習熟度が極めて高い開発者（Cursor の利用時間が 50 時間超など）や、不慣れな言語やフレームワークを扱う際には、明確なスピードアップが確認されており、ツールの有用性はタスクの難易度と利用者の習熟度に強く依存することが示唆されている。
    - Kiro が AWX によってリリースされました。
      - Kiro は、SDD（Spec Driven Development ＝仕様駆動開発） という新しい概念で作られた IDE です。
      - AI とともに仕様書を先に作り、その仕様書を基に AI に実装させるアプローチです。
      - 上流工程をしっかり文章化してコンテキストとして与えることで、その後作られるコードのブレを抑えることを可能とします。
  - 8 月
    - SpecKit が GitHub によって OSS としてリリースされました。
      - SpecKit は、エディタや各種エージェントに依存しないよう設計された SDD を支援するツールです。
      - AI とともに仕様書を先に作り、その仕様書を基に AI に実装させるアプローチです。
      - その実態は、SDD を支援するためのプロンプトとスクリプト郡です。
  - 9 月
    - OpenSpec が Fission AI によって OSS としてリリースされました。
      - OpenSpec も SDD を支援するツールです。
      - Kiro/SpecKit とはアプローチが少し異なり、仕様変更を提案書を AI とともに作成し、AI に実装させ、その変更を仕様書に反映させるアプローチです。
  - 10 月: Codex が OpenAI によってリリースされました。
    - https://github.com/openai/codex/
    - Codex CLI は、ターミナルから直接 Codex モデル を利用できるオープンソースの AI エージェントです。
  - 11 月
    - Antigravity が Google によってリリースされました。
      - VSCode のフォークで、AI 駆動開発に特化した UX となっています。

## プロンプトエンジニアリング

- Markdown/XML 記法で書く
- 構造化出力を使う
- 適切な単位でプロンプトを分ける
- 入出力例を与える（Few-shot）
- ステップの明示（Chain of Thought）
- 理由を説明させてから回答させる
- 役割付与 -（「あなたは優秀な〇〇です」）
- 否定語の代わりに肯定文
- （「しないで」→「禁止する」）
- ハルシネーション対策（「答えがない場合、無理に回答は禁止します」）

うまく動かない時、指示を足すのではなく、一度全体を見直すことが大切

- 重複語彙 / 冗長な表現の削除
- 重要な指示は前方か後方へ
- 改行位置を意味のあるまとまりで調整
- 長い文を箇条書きで整理する
- 重要な部分にだけ強調\*\*を使う
- 無駄に長いプロンプトは、コストと応答時間の増加、内容の把握が困難になる

悪いプロンプトの例

```
# 指示
新入社員向けのビジネスマナー研修で使う、プレゼンテーション資料（1時間枠）の構成案を作成してください。

## 研修の目的
この研修のゴールは、新しく入社した社員たちが社会人としての基本的なマナーを身につけることです。
彼らが学生気分を払拭し、プロフェッショナルとして振る舞えるようになることが重要です。
対象は新入社員なので、とにかく分かりやすく、平易な言葉で説明することが求められます。

## ターゲット層
対象者は、当然ながら新卒入社の社員です。
彼らはビジネスの現場経験がまったくないことを前提に資料を作る必要があります。
したがって、専門用語や業界用語は絶対に使わず、具体的な事例をたくさん出して説明するようにしてください。
新入社員は集中力が続きにくいので、一方的な講義にならないよう工夫も必要です。

## 資料で扱うべき内容
資料全体は1時間程度で終わるようにしてください。
内容は、社会人としての基本である「挨拶と言葉遣い」「正しい身だしなみ」「電話応対の基本」「ビジネスメール作成のルール」を網羅的に含めてほしいです。
あと、これが一番大事なのですが、昨今の情勢を鑑み、情報セキュリティとコンプライアンスの重要性を理解してもらうため、
個人情報の取り扱いやSNS利用に関する簡単なクイズを、絶対に資料の最後に入れてください。これは必須項目です。
彼らが飽きないように、途中で簡単なグループワークやディスカッションを入れる案も欲しいです。

## トーン＆マナー
新入社員が萎縮しないよう、基本的には親しみやすいトーンがいいですが、ビジネスマナーという真面目な内容を教える場なので、ある程度の緊張感も必要です。
堅苦しすぎず、かつ馴れ馴れしくない、バランスの取れた文体でお願いします。新入社員が飽きずに最後まで参加できるような雰囲気作りが大切です。
```

改善したプロンプトの例

```
# 指示
新入社員向け「ビジネスマナー研修（1時間）」のプレゼンテーション資料の構成案を作成してください。

# 必須要件
資料の最後に、必ず**「情報セキュリティとコンプライアンス（個人情報、SNS利用）に関するクイズ」を設ける**こと。

# 研修の概要
- ターゲット: 新卒社員（ビジネス経験ゼロ）
- 目的: 社会人としての基本マナー習得、プロ意識の醸成（脱・学生気分）
- トーン: 堅苦しすぎず、親しみやすいが緊張感も保つ

# 資料で扱う内容
- 挨拶と言葉遣い
- 身だしなみ
- 電話応対の基本
- ビジネスメールのルール

# 構成上の指示
- 専門用語は使用禁止。具体的な例を多用すること。
- 一方的な講義を避け、飽きさせない工夫（例：グループワーク案）を盛り込むこと。
```

### 参考

- [2025/12/01: DeNA: LLM 勉強会](https://github.com/DeNA/llm-study20251201)

## コンテキストエンジニアリング
