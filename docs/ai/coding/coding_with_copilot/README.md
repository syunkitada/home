# Coding with Copilot

Copilot を利用した、コーディングについてまとめる。

## エディット時の補完機能

- LSP + Copilot
  - 各種言語ごとの LSP と Copilot の Extension を入れておけば OK です。

## プロンプトによる開発手法

- 一行簡潔の指示を与える方法
  - 開発者は、AI に対して「Login 関数を実装をして」「Login 関数のテストコードを実装して」といった簡潔な指示を与える方法です。
  - この方法は素早く実装をするにはとても有効ですが、AI が期待した結果とは異なる実装をしてしまう場合も多くあります。
  - 与えた情報量が少ないだけ、AI は多くのことを推測してタスクを進めるため、その生成されたコードの品質や方向性は異なる可能性があります。
- 情報提供しつつ指示を与える方法
  - 以下のように数行の詳しい情報を与えつつ、指示を出す方法です。
    - 関数の入出力の型情報と、その入出力の例や説明文を事前に書いておいて、「Login 関数を実装して」と指示する。
    - バグ報告の解決や、機能追加などタスクを明確に定義しておいて、「そのタスクを実施して」と指示する。
  - 工数は少し増えますが、AI に情報を多く与えられると、より期待した結果を得られるようになり、手戻りが少なくなります。
- 共通指示書を提供する方法
  - プロジェクト理解や、変更をビルド、テスト、検証する方法についての情報を提供する方法です。
  - AI Agent は特定ファイルを必ず読み込み、そのうえでタスクを遂行できます。
  - Copilot は、以下のファイルが存在していれば読み込み、タスクを遂行できます。([参考](https://docs.github.com/ja/copilot/how-tos/configure-custom-instructions/add-repository-instructions?tool=vscode))
    - `/.github/copilot-instructions.md`
    - `/.github/instructions/**/*.instructions.md`
    - `**/AGENTS.md`
    - `/CLAUDE.md`
    - `/GEMINI.md`
- 仕様書を提供する方法（仕様書駆動開発）
  - AI に仕様書を読ませて、その通りに実装してもらう方法です。
  - 仕様書の時点から作り込みを行い、「何を作るか」「なぜ作るか」「どのように作るか」を明確化し、その仕様書に沿って AI Agent に開発を行わせます。
  - 機能追加したり機能変更する場合は、仕様書を変更して、AI にそれを追従してもらいます。
- カスタムプロンプトの利用

  - 普段よく利用するようなプロンプトをテンプレートとして定義しておき、`/mytest <arg>` などのように指示するだけで、プロンプトを生成し利用できるようになります。
  - Copilot などの場合は以下ように利用できます。
  - 参考: https://code.visualstudio.com/docs/copilot/customization/prompt-files

## プロンプト例

- 変数名のアイデア出し
  - この関数は～をする関数です。この関数名の候補を 5 件だしてください。
